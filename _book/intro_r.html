<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1&nbsp; Introduction to R – Quantitative Political Science I</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data_wrangling.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d19a348d1c3c577774653d463d75021c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked slimcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./intro_r.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Quantitative Political Science I</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_r.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./univariate_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Univariate Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlation_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Correlation and Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./simulation_resampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Simulation and Resampling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./using_chatgpt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Using ChatGPT</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_sources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Data Sources</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#installing-the-software-for-this-course" id="toc-installing-the-software-for-this-course" class="nav-link active" data-scroll-target="#installing-the-software-for-this-course"><span class="header-section-number">1.1</span> Installing the software for this course</a>
  <ul class="collapse">
  <li><a href="#r" id="toc-r" class="nav-link" data-scroll-target="#r"><span class="header-section-number">1.1.1</span> R</a></li>
  <li><a href="#rstudio" id="toc-rstudio" class="nav-link" data-scroll-target="#rstudio"><span class="header-section-number">1.1.2</span> RStudio</a></li>
  <li><a href="#sec-install-tidyverse" id="toc-sec-install-tidyverse" class="nav-link" data-scroll-target="#sec-install-tidyverse"><span class="header-section-number">1.1.3</span> tidyverse package</a></li>
  <li><a href="#tinytex-package" id="toc-tinytex-package" class="nav-link" data-scroll-target="#tinytex-package"><span class="header-section-number">1.1.4</span> tinytex package</a></li>
  <li><a href="#quarto" id="toc-quarto" class="nav-link" data-scroll-target="#quarto"><span class="header-section-number">1.1.5</span> Quarto</a></li>
  </ul></li>
  <li><a href="#sec-working-directories" id="toc-sec-working-directories" class="nav-link" data-scroll-target="#sec-working-directories"><span class="header-section-number">1.2</span> Working with working directories</a></li>
  <li><a href="#sec-quarto" id="toc-sec-quarto" class="nav-link" data-scroll-target="#sec-quarto"><span class="header-section-number">1.3</span> Writing documents in Quarto</a>
  <ul class="collapse">
  <li><a href="#the-header" id="toc-the-header" class="nav-link" data-scroll-target="#the-header"><span class="header-section-number">1.3.1</span> The header</a></li>
  <li><a href="#ordinary-text-in-markdown-format" id="toc-ordinary-text-in-markdown-format" class="nav-link" data-scroll-target="#ordinary-text-in-markdown-format"><span class="header-section-number">1.3.2</span> Ordinary text in Markdown format</a></li>
  <li><a href="#code-blocks" id="toc-code-blocks" class="nav-link" data-scroll-target="#code-blocks"><span class="header-section-number">1.3.3</span> Code blocks</a></li>
  <li><a href="#rendering" id="toc-rendering" class="nav-link" data-scroll-target="#rendering"><span class="header-section-number">1.3.4</span> Rendering</a></li>
  </ul></li>
  <li><a href="#pulling-data-into-r" id="toc-pulling-data-into-r" class="nav-link" data-scroll-target="#pulling-data-into-r"><span class="header-section-number">1.4</span> Pulling data into R</a>
  <ul class="collapse">
  <li><a href="#reading-a-csv" id="toc-reading-a-csv" class="nav-link" data-scroll-target="#reading-a-csv"><span class="header-section-number">1.4.1</span> Reading a CSV</a></li>
  <li><a href="#looking-at-the-data" id="toc-looking-at-the-data" class="nav-link" data-scroll-target="#looking-at-the-data"><span class="header-section-number">1.4.2</span> Looking at the data</a></li>
  <li><a href="#simple-analysis" id="toc-simple-analysis" class="nav-link" data-scroll-target="#simple-analysis"><span class="header-section-number">1.4.3</span> Simple analysis</a></li>
  <li><a href="#simple-data-visualization" id="toc-simple-data-visualization" class="nav-link" data-scroll-target="#simple-data-visualization"><span class="header-section-number">1.4.4</span> Simple data visualization</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-intro-r" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This first lecture is designed to take you from zero to the first step in data analysis — being able to load a dataset into R and look at it. The most important concepts and skills we’ll hit are the following:</p>
<ol type="1">
<li><p>Files on your computer live in directories. Your <span class="concept">working directory</span> lets R know where to look for files, as well as where to save any files you might create.</p></li>
<li><p>We’ll code in the context of <span class="concept">Quarto</span> files. These let us mix together plain text with R code. You can look at the results of the code in RStudio as you go along, as well as compiling everything into a single document.</p></li>
<li><p>Throughout the course we will rely heavily on the <span class="concept">tidyverse package</span> for loading, cleaning, manipulating, and plotting data. Today we will use the tidyverse functions for loading and looking at data.</p></li>
</ol>
<p>The notes for this course are written using Quarto. For this lecture and future ones, I encourage you to download the Quarto source code from <a href="https://github.com/brentonk/qps1" class="uri">https://github.com/brentonk/qps1</a>. You can even take your own notes in your copy of the relevant Quarto file (e.g., for today, <code>intro_r.qmd</code>).</p>
<!--
If you see this, it's because you took my advice to download the source file and look at it.  Well done!

Comments in Quarto work a bit different than in plain R code.
Everything in between "< ! - -" and "- - >" (without the spaces) is treated as a comment, and won't show up in your output.

You might notice that I include a line break after every sentence.
This is just a habit of mine for writing in Quarto because it makes it easier to move individual sentences around, and because it makes it a bit saner to track Quarto files in Git (a coding topic well beyond the scope of this course).
You don't need to do this.
Fun fact: Most of the people I write papers with hate this habit of mine!
(Shout out to Professor Bisbee for recognizing the benefits of my way.)
-->
<section id="installing-the-software-for-this-course" class="level2 page-columns page-full" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="installing-the-software-for-this-course"><span class="header-section-number">1.1</span> Installing the software for this course</h2>
<p>We won’t go through this part in class, as I’m assuming you’ve already followed all of these steps. Be sure to contact me (<a href="mailto:brenton.kenkel@gmail.com" class="email">brenton.kenkel@gmail.com</a>) or the TA (fall 2025: Mason Auten, <a href="mailto:mason.auten@vanderbilt.edu" class="email">mason.auten@vanderbilt.edu</a>) ASAP if you have trouble installing any of these pieces of software — all of them are critical for you to be able to complete the work in PSCI 2300.</p>
<section id="r" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="r"><span class="header-section-number">1.1.1</span> R</h3>
<p>R is a programming language that originated in the 1990s and became popular among political scientists in the 2000s. While you could theoretically use R for a variety of programming tasks, in practice it is almost exclusively used for statistical analysis and data science, as it was developed specifically for these tasks.</p>
<p>To install R, just download the program from <a href="https://cran.r-project.org" class="uri">https://cran.r-project.org</a>.</p>
</section>
<section id="rstudio" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="rstudio"><span class="header-section-number">1.1.2</span> RStudio</h3>
<p>The R that you installed in the last step just comes with very basic utilities for running R and writing R code. If you’re not used to programming, these programs will probably not be very helpful for you.</p>
<p>RStudio is a separate program that runs R in a more friendly and useful environment. It is called an IDE, which stands for “integrated development environment”, a fancy way of saying that it runs R and gives you a space to write R code while providing tools to check your work and make the process easier.</p>
<p>To install RStudio, just download the program from <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a>.</p>
</section>
<section id="sec-install-tidyverse" class="level3 page-columns page-full" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="sec-install-tidyverse"><span class="header-section-number">1.1.3</span> tidyverse package</h3>
<p>R comes with some built-in tools for data management and analysis, but R users typically use <span class="concept">packages</span> that extend R’s default capabilities.</p>
<p>You will end up installing and using a number of packages during PSCI 2300, but there are two that are absolutely essential to have from the start.</p>
<ol type="1">
<li><p>tidyverse, which provides a huge set of helpful functions for data management and visualization. We’ll talk about the tidyverse tools and use them virtually every day in this class.</p></li>
<li><p>tinytex, a background utility that is needed to compile your assignments to PDF. You’ll install this once, and — hopefully — never have to think about it again.</p></li>
</ol>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>Brightspace, the terrible course management software that Vanderbilt makes us use, doesn’t allow annotations on HTML assignment submissions. By default, Quarto files can only be rendered as HTML, hence we need the extension to allow PDF output.</p>
</div></div><p>To install these packages, open up RStudio on your computer. <a href="#fig-rstudio-blank" class="quarto-xref">Figure&nbsp;<span>1.1</span></a> shows what the program will probably look like when you first open it.</p>
<div id="fig-rstudio-blank" class="lightbox quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-rstudio-blank-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.1: What RStudio looks like when you first open it.
</figcaption>
<div aria-describedby="fig-rstudio-blank-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/rstudio_blank.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;1.1: What RStudio looks like when you first open it."><img src="img/rstudio_blank.png" class="img-fluid figure-img"></a>
</div>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Rearranging the RStudio panels">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Rearranging the RStudio panels
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I’m picky about my code setup. When you see me on RStudio in class, you might notice that I’m working with a different layout than the default illustrated in <a href="#fig-rstudio-blank" class="quarto-xref">Figure&nbsp;<span>1.1</span></a>. I prefer to have my source code on the left and any output — calculations that show up in the R console, plots that show up in the plotting window, or rendered documents that show up in the preview window — on the right.</p>
<p>When I’m coding in RStudio, my setup looks like this:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>Professor Kenkel’s standard RStudio setup.</figcaption>
<p><a href="img/rstudio_bjk.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Professor Kenkel’s standard RStudio setup."><img src="img/rstudio_bjk.png" class="img-fluid figure-img" alt="Professor Kenkel’s standard RStudio setup."></a></p>
</figure>
</div>
<p>You can change the RStudio layout to suit your own needs by going to the Tools menu, selecting Global Options, and then selecting Pane Layout.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>Setting the RStudio pane layout.</figcaption>
<p><a href="img/rstudio_layout.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Setting the RStudio pane layout."><img src="img/rstudio_layout.png" class="img-fluid figure-img" alt="Setting the RStudio pane layout."></a></p>
</figure>
</div>
</div>
</div>
</div>
<p>The <span class="concept">console</span> is the window on the left labeled with the version of R you’re running (4.5.1 in my case). You’ll see that the console contains a <span class="concept">prompt</span>, which looks like:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you type a command into the prompt and hit enter, R will run your command and display the results. The simplest type of command is to just use R as a calculator.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>&gt; 3.14 * 7^2</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>[1] 153.86</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To install new packages, use the <code>install.packages()</code> command. For example, to install the tidyverse package, you’ll run <code>install.packages("tidyverse")</code>. After you hit enter, R will show you information about the download and installation process.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>&gt; install.packages("tidyverse")</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>Installing package into ‘/home/brenton/R/x86_64-pc-linux-gnu-library/4.5’</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>(as ‘lib’ is unspecified)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>trying URL 'https://cloud.r-project.org/src/contrib/tidyverse_2.0.0.tar.gz'</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>[... omitting a bunch more output here ...]</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>* DONE (tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-warning callout-titled" title="Even small typos lead to failure">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Even small typos lead to failure
</div>
</div>
<div class="callout-body-container callout-body">
<p>You need to run R commands exactly as they’re written. For example, what if you forgot the quotation marks and ran <code>install.packages(tidyverse)</code>?</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>&gt; install.packages(tidyverse)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>Error: object 'tidyverse' not found</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you run this, R thinks that you’re asking it to look for a variable named <code>tidyverse</code> that stores the names of the package or packages you want to install. When it sees that you didn’t actually create a variable named <code>tidyverse</code>, it stops with an error.</p>
<p>This seems stupid — shouldn’t it infer that you wanted it to install the package named tidyverse? Indeed, R is stupid in this way, doing no more or no less than you ask it to, and failing whenever you make any kind of minor typo or error. The problem is that a “smarter” program would also be a more unpredictable one, and we want our programming languages to operate predictably.</p>
</div>
</div>
<p>Once you’ve installed a package, you don’t need to install it again unless you upgrade the version of R on your computer. To use a package that you’ve installed, call it with the <code>library()</code> command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.2.1
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
<section id="tinytex-package" class="level3" data-number="1.1.4">
<h3 data-number="1.1.4" class="anchored" data-anchor-id="tinytex-package"><span class="header-section-number">1.1.4</span> tinytex package</h3>
<p>The tinytex installation requires two steps. This is truly specific to tinytex — as far as I know, none of the other packages we use in this class will require this second step.</p>
<p>To install tinytex, run these two commands in the R console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tinytex"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The first command installs the tinytex R package. The second command downloads supplemental files used for PDF rendering and installs them to your computer. After running these two commands, you should never need to directly interface with tinytex again — Quarto will handle that for you.</p>
</section>
<section id="quarto" class="level3" data-number="1.1.5">
<h3 data-number="1.1.5" class="anchored" data-anchor-id="quarto"><span class="header-section-number">1.1.5</span> Quarto</h3>
<p>If you wanted to code like a pure programmer, you would work in scripts that contain R code and nothing else. These would be plain text files with a <code>.r</code> or <code>.R</code> extension.</p>
<p>But we’re not trying to become pure programmers in PSCI 2300. The real goal is to learn how to analyze data to answer questions about politics. For that purpose, it makes more sense to work in Quarto files, which typically have a <code>.qmd</code> extension.</p>
<p>A Quarto file typically contains both regular language and code. RStudio makes it easy to check the code you’re writing as you go along, to make sure it’s doing what you expect and that there aren’t any errors. You will ultimately compile, or “render”, the Quarto file into a document much like this one. The document will not only display the code you wrote, but also run that code and show the output. This makes Quarto a great tool to communicate the results of data analyses.</p>
<p>To install Quarto, just download the program from <a href="https://quarto.org/docs/get-started/" class="uri">https://quarto.org/docs/get-started/</a>.</p>
</section>
</section>
<section id="sec-working-directories" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="sec-working-directories"><span class="header-section-number">1.2</span> Working with working directories</h2>
<p>One of the conveniences of contemporary computing is that you usually don’t have to think about the details of where or how files are stored on your computer. You can just open up File Explorer or Finder, and it’ll show you everything you recently accessed or downloaded. And if what you’re looking for isn’t there, you can run a search and it’ll come up quick enough.</p>
<p>R, like any programming language, is powerful — but that power comes at a cost. You have to be <em>very explicit</em> with R about everything, including where to look for files. R will do exactly what you ask, no more, no less.</p>
<p>By default, R looks for files in the <span class="concept">working directory</span>. You can run the <code>getwd()</code> command (as in: <code>get</code> the <code>w</code>orking <code>d</code>irectory) in the R console to see what your current working directory is.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/home/brenton/Dropbox/courses/qps1/notes"</code></pre>
</div>
</div>
<p>If you’re on Windows, the default working directory is probably <code>C:/Users/username/Documents</code>. On a Mac, it’s probably <code>/Users/username</code>.</p>
<p>You can use the <code>setwd()</code> command in the R console to change your working directory. Alternatively, it’s probably easier to use the RStudio file browser to set the working directory, especially if you’re not a middle-aged MS-DOS veteran who has their computer’s directory hierarchy memorized.</p>
<div id="fig-setwd" class="lightbox quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-setwd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.2: Setting the working directory in RStudio.
</figcaption>
<div aria-describedby="fig-setwd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/rstudio_setwd.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figure&nbsp;1.2: Setting the working directory in RStudio."><img src="img/rstudio_setwd.png" class="img-fluid figure-img"></a>
</div>
</figure>
</div>
<p>Sometimes you’ll see people use <code>setwd()</code> to set the working directory within their R scripts or Quarto files. Don’t do this. Everyone’s computer is different, with a different directory structure. So if someone else — say, the TA or professor who is grading your problem set — downloads your file and tries to run the code, it’ll likely stop with an error when <code>setwd()</code> looks for a directory that doesn’t exist.</p>
<p>For this class, I would recommend creating a <code>psci2300</code> directory somewhere easy to access, then create new directories inside of there for each set of lecture notes and each problem set. What’s most important, though, is that you keep the files for this course <em>somewhere</em> that you can remember, and that you set R’s working directory accordingly.</p>
<p>tl;dr:</p>
<ul>
<li><p>Put your files in a directory where you can find them.</p></li>
<li><p><code>setwd()</code> to that directory when doing data analysis in R.</p></li>
<li><p>If R isn’t finding the files you need, use <code>getwd()</code> to see where it’s looking for them. Then either put the files there, or <code>setwd()</code> to wherever they are.</p></li>
</ul>
</section>
<section id="sec-quarto" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="sec-quarto"><span class="header-section-number">1.3</span> Writing documents in Quarto</h2>
<p>We will do all of our work within Quarto files. A Quarto file is a plain text file: if you open it in a bare-bones editor like Notepad (Windows) or TextEdit (Mac), you will see exactly the same content that you see in RStudio, except without the pretty colors used for syntax highlighting.</p>
<p>There are three components to a Quarto file:</p>
<ol type="1">
<li><p>The <span class="concept">header</span> at the top, containing metadata about the document like the title and author. It also contains instructions for the Quarto engine on how to render it.</p></li>
<li><p><span class="concept">Text</span> written in Markdown format. This contains the, like, words that you would use to say, um, stuff.</p></li>
<li><p><span class="concept">Code chunks</span> containing R code. When you render the Quarto document, it runs these code chunks in R. The output is then displayed in the document, like how above in the <a href="#sec-working-directories">“Working with working directories”</a> section it showed the output of <code>getwd()</code> when I compiled these notes on my computer.</p></li>
</ol>
<p>We will only cover the bare bones of writing files in Quarto. For truly comprehensive information, see the documentation <a href="https://quarto.org/docs/authoring/markdown-basics.html">on Quarto’s website</a>.</p>
<section id="the-header" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="the-header"><span class="header-section-number">1.3.1</span> The header</h3>
<!--
This file's header is a bit different than the example given here because it's part of a bigger project, with metadata stored in a separate file.
-->
<p>The very first thing in a Quarto file is a header. A typical header might look something like this:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Introduction to R"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"Brenton Kenkel"</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> 2025-08-26</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">pdf</span><span class="kw">:</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">fontsize</span><span class="kw">:</span><span class="at"> 12pt</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">highlight-style</span><span class="kw">:</span><span class="at"> tango</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>title</code> line specifies the title of the document. Everything <em>inside</em> the quotation marks is considered the title; the quotation marks themselves are not treated as part of the title. If you needed to include quotation marks in your title for some reason, you would “escape” them with a backslash like this:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Yeah, I </span><span class="sc">\"</span><span class="st">Needed</span><span class="sc">\"</span><span class="st"> Quotation Marks in the Title"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>author</code> block specifies the author. It works just like the <code>title</code> block.</p>
<p>The <code>date</code> block specifies the date. Programming languages like R typically best manage dates in YYYY-MM-DD format, so that’s how I write the date. But you can just write it however you want it to show up in the output document, being careful to use quotation marks if there are commas or colons or the like.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">"The 21st day of August, Year of the Depend Adult Undergarment"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>format</code> block specifies the default format that the document should be rendered as. The most common formats are <code>pdf</code>, which you’ll use for your problem sets in this class, and <code>html</code>. The <code>fontsize</code> and <code>highlight-style</code> options within the <code>pdf</code> block in the example header control the look of the PDF that’s rendered. There are tons more options documented on <a href="https://quarto.org/docs/output-formats/pdf-basics.html">the Quarto website</a>. But don’t worry too much about having to work through these — for the problem sets, I’ll distribute a template with a premade header that you just have to plug your name into.</p>
</section>
<section id="ordinary-text-in-markdown-format" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="ordinary-text-in-markdown-format"><span class="header-section-number">1.3.2</span> Ordinary text in Markdown format</h3>
<p>You write a Quarto document in plain text. There’s some special syntax you can use to mark up that text with formatting (bold, italics), to include headings and hyperlinks, place images, and so on. One of the best ways to learn the syntax is to just download the <code>.qmd</code> source for these lecture notes and compare to the output. And here’s a quick guide to the most useful pieces of syntax:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Big heading</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">## Medium heading</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">### Small heading</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>You can make things *italic* or **bold**.  You can even put things in <span class="in">`code font`</span>.</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>this is</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>a bulleted</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>list</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">This is a comment!</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">It won't show up in the rendered output!</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">--&gt;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>You can include <span class="co">[</span><span class="ot">hyperlinks</span><span class="co">](https://vanderbilt.edu)</span>.</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>this is</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>a numbered</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>list</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>Finally, you can include images:</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="al">![](https://i.redd.it/tospo6k2u9l81.png)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="code-blocks" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="code-blocks"><span class="header-section-number">1.3.3</span> Code blocks</h3>
<p>The special thing about Quarto is that you can include blocks of R code. (Or Python, if you’re into snakes.) When you render the document, the code you put into each block will be run in R, and the output will be included in the document.</p>
<p>As a quick example, we can have R do some basic arithmetic for us.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> <span class="sc">*</span> <span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 42</code></pre>
</div>
</div>
<p>To create the above, all I entered in my Quarto source file was the following:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> <span class="sc">*</span> <span class="dv">6</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--
The quadruple-backtick/double-brackets syntax above is a hack so that the output in the rendered document will look like a regular Quarto code block.
See https://quarto.org/docs/computations/execution-options.html#fenced-echo for details.
-->
<p>The triple backticks tell Quarto: “Everything after this is code, until the next set of triple backticks.” The <code>{r}</code> then tells Quarto: “Not only is this code, but this is R code that you should run.”</p>
<p>If you don’t want to remember this goofy syntax yourself, you can run <code>Code -&gt; Insert Chunk</code> from the RStudio menu. Or even better, for the efficiency aficionados, hit <code>Ctrl-Alt-I</code> (Windows) or <code>Command-Option-I</code> (Mac).</p>
<p>You usually won’t need to use anything other than the default code chunk. But sometimes you will want to customize. For example, as we saw when running <code>library("tidyverse")</code> at the end of <a href="#sec-install-tidyverse" class="quarto-xref"><span>Section 1.1.3</span></a>, loading the tidyverse package spits out a bunch of annoying messages that I usually don’t want cluttering up my Quarto output. To keep these out, I can use the <code>message: false</code> option for the code block where I load tidyverse:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or if I were creating a figure, I might use the <code>fig-cap</code> option to add a caption to it:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Popularity of polar bears over time"</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>df_polar_bears <span class="sc">|&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> popularity)) <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>See the <a href="https://quarto.org/docs/computations/execution-options.html">Quarto documentation</a> for the comprehensive list of chunk options. FYI, I have used Quarto and its predecessor R Markdown for a decade and have never used 90% of these, so don’t worry about trying to figure them all out.</p>
</section>
<section id="rendering" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="rendering"><span class="header-section-number">1.3.4</span> Rendering</h3>
<p>When you’re done writing your Quarto file and want to turn it into a PDF, hit the “Render” button in the RStudio interface. Assuming that there aren’t any errors in your R code chunks that prevent the document from compiling, you’ll see the PDF output in RStudio’s Preview window (or perhaps in an external browser or PDF viewer, depending on RStudio’s settings).</p>
<p>But you really shouldn’t wait until you’re all done to render. As you write, you should <u>regularly take a look at the rendered output</u> to make sure there are no errors and that it looks how you expect. When I’m writing in Quarto (including these notes), at a minimum I re-render and check the output every time I finish writing a paragraph of text or a full code block. Even more aggressively, you can check the “Render on Save” box to automatically render the document every time you save.</p>
</section>
</section>
<section id="pulling-data-into-r" class="level2 page-columns page-full" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="pulling-data-into-r"><span class="header-section-number">1.4</span> Pulling data into R</h2>
<p>We are finally ready for the fun part — data!</p>
<p>Once you’ve opened RStudio, make sure you’ve loaded the tidyverse package if you haven’t done so already.</p>
<!--
By using {.r} instead of {r} in the next code block, I ensure that the code appears but doesn't run.
I already loaded the tidyverse package in a block earlier in the document, so no need to have the Quarto engine do so twice when rendering this file.
-->
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)  <span class="co"># tells R to put the tidyverse functions into its memory</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We will use the tidyverse package basically every day in this class. R has built-in functions for loading and manipulating data, but these got old and creaky over time. The tidyverse provides a more modern and full-featured set of functions to load and work with data. You should probably just put <code>library("tidyverse")</code> in an R code chunk at the start of all your Quarto documents so that you don’t need to worry about which functions come from the tidyverse and which ones are built into R.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Comments in R code">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Comments in R code
</div>
</div>
<div class="callout-body-container callout-body">
<p>The hashtag character <code>#</code> begins a <span class="concept">comment</span> in R. Once you put <code>#</code> in a line of R code, the R console will ignore everything after it until the end of the line. So both of these lines of code are the same, as far as R is concerned:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="dv">8</span> <span class="co"># + 1000 * 92 - infinity</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
</div>
<p>Comments are useful to leave notes to yourself, or to anyone else who might read your code, to explain what you’re doing or why you did it. They’re a bit less important in Quarto documents than in raw R scripts, since you can include full-text explanations in Quarto, but you’ll still see me use comments pretty frequently within code chunks too.</p>
</div>
</div>
<section id="reading-a-csv" class="level3 page-columns page-full" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="reading-a-csv"><span class="header-section-number">1.4.1</span> Reading a CSV</h3>
<p>The data file we’ll work with today is called <code>turnout.csv</code>. It’s stored on the website for these lecture notes, at <a href="https://bkenkel.com/qps1/data/turnout.csv" class="uri">https://bkenkel.com/qps1/data/turnout.csv</a>.</p>
<p>CSV stands for <span class="concept">comma-separated values</span>. It is the most common way that political scientists distribute datasets, and all of the datasets I give you in this course will be in CSV format. The first row contains the names of the variables, each separated by a comma. Each subsequent row contains an observation, with the value of each variable again separated by commas. If you open up <code>turnout.csv</code> in a plain text editor (like Notepad on Windows or TextEdit on a Mac), the first few lines look like this:</p>
<pre class="csv"><code>year,votes_counted,voting_age_pop,voting_eligible_pop,ineligible_felons,ineligible_noncitizens,eligible_overseas
1980,86.515221,164.445475,159.690927,0.801977,5.755591625000001,1.803021
1982,67.615576,166.027633,160.408786,0.959637,6.64110532,1.981895
1984,92.65268,173.99461,167.708463,1.165246,7.481768229999999,2.360867
1986,64.991128,177.92233,170.408916,1.367117,8.36234951,2.216053
1988,91.594691,181.955484,173.609148,1.593976,9.279729683999998,2.52737</code></pre>
<p>This data comes from the <a href="https://election.lab.ufl.edu/voter-turnout/">Election Lab</a> at the University of Florida. They track important statistics about turnout in federal elections: how many people were old enough to vote, how many of those were actually eligible to vote (i.e., excluding noncitizens and felons), and how many ballots were actually cast. Here’s a guide to the variables that are included here:</p>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>See <a href="data_sources.html" class="quarto-xref"><span>Appendix B</span></a> for more detail on all data files used in these notes.</p>
</div></div><table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th>Variable name</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>year</code></td>
<td>Election year</td>
</tr>
<tr class="even">
<td><code>votes_counted</code></td>
<td>Number of votes cast that election year (in millions)</td>
</tr>
<tr class="odd">
<td><code>voting_age_pop</code></td>
<td>Voting-age population (in millions)</td>
</tr>
<tr class="even">
<td><code>voting_eligible_pop</code></td>
<td>Voting-eligible population (in millions)</td>
</tr>
<tr class="odd">
<td><code>ineligible_felons</code></td>
<td>Citizens ineligible to vote due to felonies (in millions)</td>
</tr>
<tr class="even">
<td><code>ineligible_noncitizens</code></td>
<td>Residents ineligible to vote because not citizens (in millions)</td>
</tr>
<tr class="odd">
<td><code>eligible_overseas</code></td>
<td>Number of voting-eligible citizens living outside the US (in millions)</td>
</tr>
</tbody>
</table>
<p>We need to load this into R as a <span class="concept">data frame</span>, which is kind of like the equivalent of a spreadsheet within R. To that end, we’ll plug the URL into the <code>read_csv()</code> function. (Make sure you type the URL exactly right — it’s probably easiest to just copy-paste the following line.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df_turnout <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bkenkel.com/qps1/data/turnout.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let me break down that line for you, because there’s a lot going on here:</p>
<ul>
<li><p><code>df_turnout</code> is a <span class="concept">variable name</span>, which we will use to store and retrieve the data. The choice of variable name is totally up to you — but you’ll find yourself less confused and making fewer mistakes if you give your variables descriptive, memorable names. I usually name data frames <code>df_topic</code>, where <code>df</code> stands for “data frame” (you’ll create plenty of other variables that aren’t data frames) and where <code>topic</code> is whatever the data is about.</p></li>
<li><p><code>&lt;-</code> is the <span class="concept">assignment operator</span>. When we write <code>varname &lt;- value</code>, what we are telling R is: “Calculate the value on the right-hand side. Then stuff the result of that calculation into <code>varname</code>, so that when I type <code>varname</code> into the R console later, it’s treated as the value of the calculation.”</p></li>
<li><p><code>read_csv("https://bkenkel.com/qps1/data/turnout.csv")</code> tells R to visit the URL, take the contents of the file there, and put the data from it into a data frame. Notice that the URL goes into quotation marks.</p></li>
</ul>
<p>What if we were to run <code>read_csv(...)</code> alone, without assigning to a variable name? R would read the data, put it in a data frame, print the first few rows of the data frame, and then promptly forget that the data was ever there. Since the goal is to analyze the data, we want to store it as a variable to perform further calculations.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="`read_csv` versus `read.csv`">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>read_csv</code> versus <code>read.csv</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this class, I’ll always read data files using the <code>read_csv()</code> function. Sometimes you’ll see people using <code>read.csv()</code> instead, with a dot instead of an underscore. For the most part, <code>read.csv()</code> works the same way as <code>read_csv()</code>. However, I prefer <code>read_csv()</code> because it works faster on large datasets and has better default options.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Reading data from a file on your computer">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Reading data from a file on your computer
</div>
</div>
<div class="callout-body-container callout-body">
<p>Sometimes you can’t read data directly from a URL. Maybe you’re about to get on an airplane and won’t have wi-fi, or maybe someone emailed you a file you want to analyze. Either way, once you’ve downloaded the file to your computer, how do you get it into R?</p>
<p>In this situation, you need to be especially mindful of your working directory (see <a href="#sec-working-directories" class="quarto-xref"><span>Section 1.2</span></a>). You want R’s working directory to match the location of the downloaded file, which means doing one of two things:</p>
<ol type="1">
<li><p>Before downloading the file, run <code>getwd()</code> in R to see where its working directory is. When you download the file, make sure to save it to that directory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/home/brenton/Dropbox/courses/qps1/notes"</code></pre>
</div>
</div>
<p>For example, I would need to save the file to (deep breath) the <code>notes</code> directory inside the <code>qps1</code> directory inside the <code>courses</code> directory in my Dropbox.</p></li>
<li><p>Alternatively, after downloading the file, change the working directory in R to be wherever you put it. You can do this by giving the full directory path to <code>setwd()</code>, but it’s probably easier to use the file navigator in the RStudio interface, as illustrated in <a href="#fig-setwd" class="quarto-xref">Figure&nbsp;<span>1.2</span></a>.</p></li>
</ol>
<p>After following either of these methods, you can use the <code>dir()</code> command to look at the list of files that R “sees” in the current working directory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "_book"                   "_freeze"                
 [3] "_quarto.yml"             "_raw"                   
 [5] "cover.png"               "data"                   
 [7] "data_sources_cache"      "data_sources.qmd"       
 [9] "data_visualization.qmd"  "data_wrangling.qmd"     
[11] "img"                     "index.html"             
[13] "index.qmd"               "intro_r.qmd"            
[15] "intro_r.rmarkdown"       "qps1.scss"              
[17] "references.bib"          "references.qmd"         
[19] "site_libs"               "univariate_analysis.qmd"
[21] "using_chatgpt.qmd"      </code></pre>
</div>
</div>
<p>Finally, once you’ve confirmed that the data file you want to analyze shows up here, you can load it into R by plugging the filename into <code>read_csv()</code>. As always, the filename will need go inside quotation marks. For example, if the file is called <code>pre_election_polls.csv</code>, you would run:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df_polls <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"pre_election_polls.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="looking-at-the-data" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="looking-at-the-data"><span class="header-section-number">1.4.2</span> Looking at the data</h3>
<p>If in the bottom of your heart you long for the comfort of Microsoft Excel, you can get a spreadsheet-type view of the data using the <code>View()</code> command in RStudio:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(df_turnout)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or you can see info in the R console by typing the variable name into the prompt and hitting enter:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df_turnout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 × 7
    year votes_counted voting_age_pop voting_eligible_pop ineligible_felons
   &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;               &lt;dbl&gt;             &lt;dbl&gt;
 1  1980          86.5           164.                160.             0.802
 2  1982          67.6           166.                160.             0.960
 3  1984          92.7           174.                168.             1.17 
 4  1986          65.0           178.                170.             1.37 
 5  1988          91.6           182.                174.             1.59 
 6  1990          67.9           186.                177.             1.90 
 7  1992         104.            191.                180.             2.18 
 8  1994          75.1           195.                183.             2.44 
 9  1996          96.3           200.                186.             2.59 
10  1998          74.8           205.                190.             2.92 
# ℹ 12 more rows
# ℹ 2 more variables: ineligible_noncitizens &lt;dbl&gt;, eligible_overseas &lt;dbl&gt;</code></pre>
</div>
</div>
<p>“tibble” is just tidyverse’s cutesy name for data frames. I will use “tibble” and “data frame” interchangeably, though I’ll usually say “data frame” because “tibble” sounds more like a name for a stray cat. The <code>&lt;dbl&gt;</code> under each variable name indicates the type of variable. <code>&lt;dbl&gt;</code> just means the variable is a number (it comes from “double precision”, which is a particular way numbers are stored in computers). The other most common categorization you’ll see is <code>&lt;chr&gt;</code>, for variables that are “characters” rather than numbers.</p>
<p>Unless your data frame has unusually few columns, this view will wind up with some of them being cut off. To see the first few entries of every single column, use <code>glimpse()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df_turnout)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 22
Columns: 7
$ year                   &lt;dbl&gt; 1980, 1982, 1984, 1986, 1988, 1990, 1992, 1994,…
$ votes_counted          &lt;dbl&gt; 86.51522, 67.61558, 92.65268, 64.99113, 91.5946…
$ voting_age_pop         &lt;dbl&gt; 164.4455, 166.0276, 173.9946, 177.9223, 181.955…
$ voting_eligible_pop    &lt;dbl&gt; 159.6909, 160.4088, 167.7085, 170.4089, 173.609…
$ ineligible_felons      &lt;dbl&gt; 0.801977, 0.959637, 1.165246, 1.367117, 1.59397…
$ ineligible_noncitizens &lt;dbl&gt; 5.755592, 6.641105, 7.481768, 8.362350, 9.27973…
$ eligible_overseas      &lt;dbl&gt; 1.803021, 1.981895, 2.360867, 2.216053, 2.52737…</code></pre>
</div>
</div>
<p>You can extract an individual row from a data frame using square brackets:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df_turnout[<span class="dv">3</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
   year votes_counted voting_age_pop voting_eligible_pop ineligible_felons
  &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;               &lt;dbl&gt;             &lt;dbl&gt;
1  1984          92.7           174.                168.              1.17
# ℹ 2 more variables: ineligible_noncitizens &lt;dbl&gt;, eligible_overseas &lt;dbl&gt;</code></pre>
</div>
</div>
<p>To retrieve a consecutive sequence of rows, use a colon:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>df_turnout[<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 7
   year votes_counted voting_age_pop voting_eligible_pop ineligible_felons
  &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;               &lt;dbl&gt;             &lt;dbl&gt;
1  1984          92.7           174.                168.              1.17
2  1986          65.0           178.                170.              1.37
3  1988          91.6           182.                174.              1.59
4  1990          67.9           186.                177.              1.90
# ℹ 2 more variables: ineligible_noncitizens &lt;dbl&gt;, eligible_overseas &lt;dbl&gt;</code></pre>
</div>
</div>
<p>You can retrieve a column by numeric index within brackets…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>df_turnout[, <span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 × 1
   voting_eligible_pop
                 &lt;dbl&gt;
 1                160.
 2                160.
 3                168.
 4                170.
 5                174.
 6                177.
 7                180.
 8                183.
 9                186.
10                190.
# ℹ 12 more rows</code></pre>
</div>
</div>
<p>…or by name (quoted) within brackets…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df_turnout[, <span class="st">"voting_eligible_pop"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 × 1
   voting_eligible_pop
                 &lt;dbl&gt;
 1                160.
 2                160.
 3                168.
 4                170.
 5                174.
 6                177.
 7                180.
 8                183.
 9                186.
10                190.
# ℹ 12 more rows</code></pre>
</div>
</div>
<p>…or, the option I most prefer, by name (not quoted) with a dollar sign.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>df_turnout<span class="sc">$</span>voting_eligible_pop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 159.6909 160.4088 167.7085 170.4089 173.6091 176.6783 179.5657 182.5494
 [9] 186.3277 190.3424 194.2597 198.3647 202.9729 207.1481 213.3062 221.7765
[17] 222.4375 227.1371 230.7808 236.9181 242.0778 242.9077</code></pre>
</div>
</div>
<p>What do you think the following code does?</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>df_turnout[, <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled" title="Selecting a column from a data frame">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Selecting a column from a data frame
</div>
</div>
<div class="callout-body-container callout-body">
<p>As you can see in the preceding code blocks, when you select a column using brackets (whether by number or by name), R gives you a data frame with a single column. When you use the dollar sign, it gives you a <span class="concept">vector</span> — which you can think of as just a list of numbers, without the row-column structure of a data frame.</p>
<p>If you’re planning to do other calculations like taking a sum or average, it’s usually more convenient to work with vectors than with single-column data frames. Hence my preference for <code>df_turnout$voting_eligible_pop</code> over <code>df_turnout[, "voting_eligible_pop"]</code>.</p>
</div>
</div>
</section>
<section id="simple-analysis" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="simple-analysis"><span class="header-section-number">1.4.3</span> Simple analysis</h3>
<p>What has been the average voter turnout in federal elections since 1986? What about the highest and lowest? How has it varied over time?</p>
<p>To answer these questions, first we need to actually calculate turnout as a percentage: <span class="math display">\[\text{turnout \%} = \frac{\text{votes cast}}{\text{eligible voters}} \times 100.\]</span> Let’s implement this formula in R, storing the result in a variable called <code>turnout_pct</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>turnout_pct <span class="ot">&lt;-</span> df_turnout<span class="sc">$</span>votes_counted <span class="sc">/</span> df_turnout<span class="sc">$</span>voting_eligible_pop</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>turnout_pct <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> turnout_pct</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The first line exploits a very convenient feature of R. If we have two vectors <code>x</code> and <code>y</code> with the same number of entries, then <code>x / y</code> will divide the first element of <code>x</code> by the first of <code>y</code>, the second element of <code>x</code> with the second of <code>y</code>, and so on. The same logic applies to <code>x + y</code>, <code>x - y</code>, <code>x * y</code>, <code>x^y</code> (<code>x</code> to the <code>y</code>’th power), and many more basic mathematical operations.</p>
<p>The second line shows how we can modify a variable “in place”. I often break up complex calculations into multiple lines this way, just to make the code as easy to follow and read as possible.</p>
<p>We can now calculate the lowest, highest, average, and median turnout.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(turnout_pct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 36.61048</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(turnout_pct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 65.98637</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(turnout_pct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 49.5346</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(turnout_pct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 50.85756</code></pre>
</div>
</div>
<p>The <code>summary()</code> command does all this at once, and more:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(turnout_pct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  36.61   41.02   50.86   49.53   57.43   65.99 </code></pre>
</div>
</div>
<p>The first quartile is the 25th percentile: turnout is lower than 41% in a quarter of elections, and greater than 41% in the other three quarters of the elections. The third quartile is the mirror image of this: turnout is lower than 57% in three-quarters of elections, and greater than 57% in the other quarter.</p>
</section>
<section id="simple-data-visualization" class="level3" data-number="1.4.4">
<h3 data-number="1.4.4" class="anchored" data-anchor-id="simple-data-visualization"><span class="header-section-number">1.4.4</span> Simple data visualization</h3>
<p>We’ll use <code>ggplot()</code> for data visualization throughout this course. The syntax for it is kind of weird, so don’t worry if it’s not all clear at first. You’ll get used to it over time, and we’ll talk about it in much more detail in the coming weeks.</p>
<p>The first thing we need to do is put our turnout percentage calculation into our data frame as a column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>df_turnout<span class="sc">$</span>turnout_pct <span class="ot">&lt;-</span> turnout_pct</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df_turnout)  <span class="co"># now includes an 8th column containing turnout</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 22
Columns: 8
$ year                   &lt;dbl&gt; 1980, 1982, 1984, 1986, 1988, 1990, 1992, 1994,…
$ votes_counted          &lt;dbl&gt; 86.51522, 67.61558, 92.65268, 64.99113, 91.5946…
$ voting_age_pop         &lt;dbl&gt; 164.4455, 166.0276, 173.9946, 177.9223, 181.955…
$ voting_eligible_pop    &lt;dbl&gt; 159.6909, 160.4088, 167.7085, 170.4089, 173.609…
$ ineligible_felons      &lt;dbl&gt; 0.801977, 0.959637, 1.165246, 1.367117, 1.59397…
$ ineligible_noncitizens &lt;dbl&gt; 5.755592, 6.641105, 7.481768, 8.362350, 9.27973…
$ eligible_overseas      &lt;dbl&gt; 1.803021, 1.981895, 2.360867, 2.216053, 2.52737…
$ turnout_pct            &lt;dbl&gt; 54.17667, 42.15204, 55.24628, 38.13834, 52.7591…</code></pre>
</div>
</div>
<p>Now let’s make a <em>very</em> rough graph of how turnout has changed over time. Quarto will helpfully display the graph in the output once we render it!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_turnout, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> turnout_pct)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="intro_r_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>What stands out to me about this graph is the cyclical pattern, with turnout typically being 10–15 percentage points lower in midterm years than in presidential election years.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="'Percent' versus 'percentage point'">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
‘Percent’ versus ‘percentage point’
</div>
</div>
<div class="callout-body-container callout-body">
<p>Voter turnout was about 65% in 2020 and about 50% in 2018. So which of the following sentences is true, and which is false?</p>
<ol type="1">
<li><p>“Turnout in 2018 was 15 percent lower than turnout in 2020.”</p></li>
<li><p>“Turnout in 2018 was 15 percentage points lower than turnout in 2020.”</p></li>
</ol>
<p>You might be surprised to learn that these sentences don’t mean the same thing. In fact, #2 is true, but #1 is false. If you found yourself surprised here, take a look at this <a href="https://journalistsresource.org/home/percent-change-math-for-journalists/">very short article on the difference between percent and percentage point</a>.</p>
<p>Here’s my heuristic for deciding whether I’m calculating a “percent” or a “percentage point” change:</p>
<ul>
<li><p>If I’m using division to make the comparison, then I’m calculating a percent. For example, because <span class="math display">\[\frac{50}{65} \approx 0.77 = 77\%,\]</span> I would say that turnout in 2018 was about 23 percent lower than in 2020.</p></li>
<li><p>If I’m using subtraction to make the comparison, then I’m calculating a percentage point. For example, because <span class="math inline">\(65 - 50 = 15\)</span>, I would say that turnout in 2018 was about 15 percentage points lower than in 2020.</p></li>
</ul>
<p>If you’re uncertain whether to report a percent difference or a percentage point difference, default to using the percentage point difference — it’s less confusing, especially to audiences that might not be finely attuned to the distinction. For example, imagine I said that jaywalking on 21st Ave raises your chance of being hit by a car by 50 percent. An inattentive or uninformed listener might incorrectly take that to mean that at least half of jaywalkers are getting hit. But if it’s actually just 2 out of every 10,000 non-jaywalkers who are getting hit, my statement would only mean that the rate is 3 out of 10,000 for jaywalkers.</p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Preface">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data_wrangling.html" class="pagination-link" aria-label="Data Wrangling">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p xmlns:cc="http://creativecommons.org/ns#" class="cc-footer">
This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1" alt=""></a>
</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>