<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Appendix A — Using ChatGPT – Quantitative Political Science I</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data_sources.html" rel="next">
<link href="./references.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-80f556f9cf5c3714b4c3fe743bab0ce3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked slimcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./using_chatgpt.html">Appendices</a></li><li class="breadcrumb-item"><a href="./using_chatgpt.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Using ChatGPT</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Quantitative Political Science I</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./univariate_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Univariate Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlation_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Correlation and Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./simulation_resampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Simulation and Resampling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./text_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Text Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./using_chatgpt.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Using ChatGPT</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_sources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Data Sources</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-very-basics-of-generative-ai" id="toc-the-very-basics-of-generative-ai" class="nav-link active" data-scroll-target="#the-very-basics-of-generative-ai"><span class="header-section-number">A.1</span> The very basics of generative AI</a></li>
  <li><a href="#productive-prompting-context-is-key" id="toc-productive-prompting-context-is-key" class="nav-link" data-scroll-target="#productive-prompting-context-is-key"><span class="header-section-number">A.2</span> Productive prompting: Context is key</a></li>
  <li><a href="#using-chatgpt-for-problem-sets" id="toc-using-chatgpt-for-problem-sets" class="nav-link" data-scroll-target="#using-chatgpt-for-problem-sets"><span class="header-section-number">A.3</span> Using ChatGPT for problem sets</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./using_chatgpt.html">Appendices</a></li><li class="breadcrumb-item"><a href="./using_chatgpt.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Using ChatGPT</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-using-chatgpt" class="quarto-section-identifier">Appendix A — Using ChatGPT</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>As programming workflows become increasingly dependent on AI tools, it’s important to understand how to best use generative AI models like ChatGPT to help you code in R. There are a lot of tasks at which ChatGPT is only mediocre or worse (e.g., writing scripts for new episodes of my favorite old sitcoms), but it is a legitimately transformative tool for programmers. I have used R since 2008, and nonetheless I probably ask it at least one R question every day for research purposes. It’s also been invaluable to me as I’ve been learning Python over the past couple of years.</p>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>ChatGPT is better at Python than R — it can even natively run Python code and show you the results in the chat window — which is yet another reason to learn Python if you’re considering a career in data science.</p>
</div></div><section id="the-very-basics-of-generative-ai" class="level2" data-number="A.1">
<h2 data-number="A.1" class="anchored" data-anchor-id="the-very-basics-of-generative-ai"><span class="header-section-number">A.1</span> The very basics of generative AI</h2>
<div class="callout callout-style-default callout-tip callout-titled" title="Learning more">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning more
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is a very brief and loose summary of the inner workings of large language models that power tools like ChatGPT. For a more technical but still accessible summary, I like <a href="https://www.understandingai.org/p/large-language-models-explained-with">this Substack post</a> by Timothy B. Lee and Sean Trott.</p>
</div>
</div>
<p>Chatbots like ChatGPT are built on <span class="concept">large language models</span>. The fundamental goal of a large language model is to predict the next word in a sequence of text. For example, think about the sequence:</p>
<pre class="text"><code>I live in Nashville, TN, where I'm a student at</code></pre>
<p>“Vanderbilt” is a plausible next word. So are “Belmont,” “Lipscomb,” and the names of various Nashville high schools. On the other hand, it’s pretty unlikely that the next word is “Duke,” “Emory,” or “Princeton.” A good large language model will know that. For example, when I gave this text sequence to <a href="https://huggingface.co/meta-llama/Llama-3.2-1B">Meta’s Llama-3.2 model</a>, it completed the sentence with</p>
<pre class="text"><code>I live in Nashville, TN, where I'm a student at Belmont University.
I'm a member of the Belmont University Choir, and I'm also a member of</code></pre>
<p>It takes a lot of clever code and computing power to create one of these models. But the fundamentals of the process are fairly straightforward.</p>
<ol type="1">
<li><p>Construct a “training set” containing as much of the text on the Internet as you can download. (See this <a href="https://wapo.st/3ZWVQP8">Washington Post article</a> on the main sources used.)</p></li>
<li><p>Train a machine learning model to identify patterns in the text. This involves first finding a way to turn words into numbers in the computer’s memory, then creating a statistical model of the relationships between those numbers.</p>
<p>News stories, Wikipedia entries, and other online sources that mention “Vanderbilt” are disproportionately likely to mention “Nashville” too, so the LLM will learn to associate these words with each other. Same with “Duke” and “Durham.”</p></li>
<li><p>Create a pipeline that takes input text from a user, then uses the underlying statistical model to predict the next sequence of output.</p>
<p>With our “I live in Nashville, TN, where I’m a student at” example, the underlying statistical model might look something like:</p>
<ul>
<li>20% chance of “Belmont”</li>
<li>15% chance of “Vanderbilt”</li>
<li>10% chance of “Lipscomb”</li>
<li>8% chance of “Tennessee”</li>
<li>4% chance of “Meharry”</li>
<li>43% total chance of all the other of the many, many words it knows</li>
</ul>
<p>At this point the model might pick the most likely option (“Belmont”), or it might sample from all of the options in proportion to its estimate of their probabilities, or it might do some compromise of these. For our purposes, it’s just important to know that it’s trying to predict the word that’s most likely to come next, based on all the patterns it’s seen across all of the crazy amounts of Internet text it’s processed.</p></li>
</ol>
<p>This is the most important thing to understand about large language models if you want to sort out what they’ll be good at doing versus what they’ll be bad at. They are trained to <em>predict what words come next, based on the patterns it’s seen in billions of Internet documents</em>. What this means is that they are <em>not</em> designed at a core level to tell you the truth. If the most common pattern in Internet text is a lie, the large language model will dutifully repeat the lie.</p>
<p>For example, again working with Meta’s Llama model, I gave it this prompt:</p>
<pre class="text"><code>As a parent, I know in my heart that vaccines cause</code></pre>
<p>It responded by repeating a <a href="https://my.vanderbilthealth.com/yes-vaccines-are-safe-debunk-vaccine-myths/">common but false assertion</a> about vaccines and autism.</p>
<pre class="text"><code>As a parent, I know in my heart that vaccines cause autism. I know this
because I have seen it with my own eyes. I have seen it with</code></pre>
<p>The LLM is a pattern matching device, not a truth seeking device. Now there is a certain wisdom of crowds, such that common patterns are often indicative of the truth. “Vanderbilt” and “Nashville” appear together a lot because Vanderbilt really is in Nashville. But once you get into the realm of the controversial or the obscure, your skepticism of large language model output should be all the higher.</p>
<p>In this class, we won’t be asking large language models to adjudicate the truth about medical procedures. We will be asking them for advice on writing R code. The advice we get will be based on the patterns the model has seen in the many millions of lines of R code it has seen from questions on StackExchange, repositories on GitHub, etc. So we should expect the best performance with simple questions where there are a lot of examples it can draw from. If we ask about more obscure techniques or functions, the performance is likely to be worse.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Reinforcement learning">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Reinforcement learning
</div>
</div>
<div class="callout-body-container callout-body">
<p>The example above comes from a “raw” large language model, not a public-facing chatbot. Major chatbots like ChatGPT or Claude won’t tell you that vaccines cause autism. Even the Grok chatbot from Elon Musk’s X, which has been tuned to be less liberal and more MAGA than the other major chatbot products, clearly states that vaccines do not cause autism.</p>
<p>Why don’t the big chatbots repeat the mistake when it’s (probably) the dominant pattern in their training data? Once the underlying AI model has been trained to do pattern recognition from text, there’s often another step called <a href="https://aws.amazon.com/what-is/reinforcement-learning-from-human-feedback/">reinforcement learning with human feedback</a> (RLHF) that’s undertaken before making a public-facing product. In very simple terms, this involves using responses from human testers to guide the chatbot away from saying things that are false, offensive, or otherwise problematic.</p>
<p>Precisely because the prevalence of false beliefs about vaccines and autism is so well-known, I would bet that this is one of the topics that the AI labs have specifically focused on in their RLHF fine-tuning processes. But on more obscure topics, like the specifics of how some R package works, it’s much less likely that there’s been any kind of dedicated effort to prevent the bot from making things up or repeating false information.</p>
</div>
</div>
</section>
<section id="productive-prompting-context-is-key" class="level2" data-number="A.2">
<h2 data-number="A.2" class="anchored" data-anchor-id="productive-prompting-context-is-key"><span class="header-section-number">A.2</span> Productive prompting: Context is key</h2>
<p>Chatbots and language models have existed for decades. One of the big advances in the past couple of years to make AI chatbots widely useful has been the expansion of the <span class="concept">context window</span>, the amount of information the model can account for as it tries to solve the “What word comes next?” problem. As a simple example of how context matters, compare how ChatGPT responds to the following prompts:</p>
<pre class="text"><code>Complete the sentence: "I live in Nashville, TN, where I am a student at ___."</code></pre>
<pre class="text"><code>Complete the sentence: "I am seven years old. I live in Nashville, TN, where I
am a student at ___."</code></pre>
<p>The same principle applies to code questions. The more information you give ChatGPT, the better targeted help it can give you.</p>
<p>One important piece of contextual information is who you are and what you’re looking for. For a personal example, I often ask ChatGPT questions about college-level math that I need to know for my formal modeling research. Because ChatGPT is pattern-matching from what it finds in its corpus of knowledge, by default it will often respond as if I am an undergraduate looking for homework help or perhaps some kind of engineer. So if the default responses aren’t helpful, I’ll start a new chat where I start my prompt with something like:</p>
<pre class="text"><code>I am a political science professor writing a research paper using game theory.
I want to publish this paper in a top-tier political science or economics journal.
In the context of monotone comparative statics for game theory, what is a lattice?</code></pre>
<p>I never advocate lying to humans, but sometimes it can be useful to lie to robots. For example, you might get higher-quality code if you start your prompt with “I am a machine learning engineer at Google” rather than “I am an undergraduate political science major”. On the other hand, you may get more comprehensive explanations of the output if you say you’re a student.</p>
<p>Regardless of what (if anything) you tell the model about who you are and why you’re asking, you tend to get better responses the more contextual information you give. One of the tasks ChatGPT does best is explaining code.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Sample chatbot prompt: Code explanation">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Sample chatbot prompt: Code explanation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Work through this R code line by line and explain what it’s doing:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>plot_pred_usa <span class="ot">&lt;-</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    df_first_stage,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(d_usa_pred), <span class="at">y =</span> <span class="fu">log1p</span>(d_usa_actual))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> label), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"First stage predictions for USA aid"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"log(1 + predicted USA aid)"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"log(1 + actual USA aid)"</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/pred_usa_pretty.pdf"</span>, plot_pred_usa, <span class="at">width =</span> <span class="dv">7</span>, <span class="at">height =</span> <span class="fl">4.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>ChatGPT can also be useful for debugging errors. You can often just plug in your code and ask it to spot the problem. However, you’ll usually do even better by giving ChatGPT some contextual information, including the error message you’re receiving when you try to run your code.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Sample chatbot prompt: Debugging">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Sample chatbot prompt: Debugging
</div>
</div>
<div class="callout-body-container callout-body">
<p>I am working with a data frame in R called df_survey that looks like this:</p>
<pre class="text"><code># A tibble: 6 × 3
  party_id      age income
  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;
1 Republican     30  10000
2 Democrat       40  20000
3 Independent    50  30000
4 Republican     60  40000
5 Democrat       70  50000
6 Independent    80  60000</code></pre>
<p>I am trying to run this code:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df_survey <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age <span class="sc">&gt;=</span> <span class="dv">45</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(party_id) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_income =</span> <span class="fu">mean</span>(income))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But it spits out this error:</p>
<pre class="text"><code>Error in `select()`:
In argument: `age &gt;= 45`.
Caused by error:
! object 'age' not found
Run `rlang::last_trace()` to see where the error occurred.</code></pre>
<p>How can I fix it?</p>
</div>
</div>
<p>Asking ChatGPT to write code can be dicier. It’s great at simple things. The more complicated your ask, the less likely it is to write code that actually works. (For example, I had a heck of a time trying to get it to help me with the material on making maps for the final section of the Data Visualization lecture notes.) With a complicated code writing task, your best bet is to give it as much detail as possible about your inputs and your desired outputs.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Sample chatbot prompt: Code writing">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Sample chatbot prompt: Code writing
</div>
</div>
<div class="callout-body-container callout-body">
<p>I am trying to merge two datasets in R. The first is called <code>df_survey</code> and it looks like this:</p>
<pre class="text"><code># A tibble: 100 × 5
      id st      age income party_id   
   &lt;int&gt; &lt;chr&gt; &lt;int&gt;  &lt;int&gt; &lt;chr&gt;      
 1     1 OH       32  57076 Democrat   
 2     2 TN       54  93213 Republican 
 3     3 TN       65  60679 Republican 
 4     4 CA       53  97740 Democrat   
 5     5 CA       23  93538 Republican 
 6     6 TN       75  74921 Democrat   
 7     7 NY       53  71817 Republican 
 8     8 NY       24  25826 Democrat   
 9     9 OH       38  57562 Independent
10    10 CA       63  49957 Independent</code></pre>
<p>The second is called <code>df_states</code> and it looks like this:</p>
<pre class="text"><code># A tibble: 3 × 3
  state region    population
  &lt;chr&gt; &lt;chr&gt;          &lt;dbl&gt;
1 NY    Northeast   10000000
2 OH    Midwest      5000000
3 KY    South        3000000</code></pre>
<p>I want to merge them together, matching the “st” column from <code>df_survey</code> with the “state” column from <code>df_states</code>. However, I also want to drop any of the respondents in <code>df_survey</code> whose state does not appear in <code>df_states</code>. What’s the best way to accomplish this? Please explain each line of your response.</p>
</div>
</div>
<p>For code writing tasks like this one, it can be helpful to use ChatGPT’s “Canvas” feature. This mode puts the code in a separate window, allowing you to highlight portions to ask ChatGPT to explain or change. You have to dig a bit into the ChatGPT options to enable Canvas, as illustrated in <a href="#fig-chatgpt-canvas" class="quarto-xref">Figure&nbsp;<span>A.1</span></a>.</p>
<div id="fig-chatgpt-canvas" class="lightbox quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-width="90%">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-chatgpt-canvas-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;A.1: How to use Canvas or Study mode in ChatGPT.
</figcaption>
<div aria-describedby="fig-chatgpt-canvas-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/chatgpt_canvas.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;A.1: How to use Canvas or Study mode in ChatGPT."><img src="img/chatgpt_canvas.png" class="img-fluid quarto-figure quarto-figure-center figure-img" data-fig-width="90%"></a>
</div>
</figure>
</div>
<p>You can even use ChatGPT like a personal tutor. For example, if you wanted some additional midterm practice, you could have it write new questions based on the ones from the practice midterm.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Sample chatbot prompt: Study tool">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Sample chatbot prompt: Study tool
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>File attachment: midterm1_2024.pdf</code></p>
<p>I am studying for the midterm in my stats class. I’ve attached last year’s midterm for reference. We’re covering chapters 1-3 from the notes at <a href="https://bkenkel.com/qps1" class="uri">https://bkenkel.com/qps1</a>.</p>
<p>Can you write brand new short answer questions based on the ones in the practice midterm? Ask them to me one at a time, and give me feedback on my answers.</p>
</div>
</div>
<p>ChatGPT recently introduced a <a href="https://openai.com/index/chatgpt-study-mode/">study mode</a> that might be useful to turn on when asking this type of question. From my brief testing, it doesn’t look like study mode fundamentally alters ChatGPT’s look or behavior. Instead, it just makes the chatbot a bit more teacher-y, in terms of giving detailed explanations instead of just spitting out an answer and moving on. You enable study mode similarly to how you’d enable Canvas (see <a href="#fig-chatgpt-canvas" class="quarto-xref">Figure&nbsp;<span>A.1</span></a>).</p>
<p>These notes only scratch the surface of the kinds of prompts you can use. Vanderbilt’s Data Science Institute has a <a href="https://www.vanderbilt.edu/generative-ai/prompt-patterns/">Prompt Patterns</a> page with a ton more ideas, in addition to a full-fledged <a href="https://www.coursera.org/learn/prompt-engineering">Prompt Engineering course for free on Coursera</a> if you’re truly dedicated.</p>
</section>
<section id="using-chatgpt-for-problem-sets" class="level2" data-number="A.3">
<h2 data-number="A.3" class="anchored" data-anchor-id="using-chatgpt-for-problem-sets"><span class="header-section-number">A.3</span> Using ChatGPT for problem sets</h2>
<p>Once we’ve covered this material in class, you are free to use ChatGPT or other chatbots to help with R coding on problem sets. Here’s what you need to keep in mind as you do so.</p>
<ol type="1">
<li><p>Most importantly, <strong>use ChatGPT as a complement to your learning</strong> instead of as a substitute for learning things yourself. You will learn and retain more if you try things yourself, and only look to AI tools for help once you’ve hit a wall. You can also use AI in a way that reinforces your learning, by asking follow-up questions about <em>why</em> and <em>how</em> particular bits of code work (or don’t work!).</p></li>
<li><p>Related to that, keep in mind that <strong>you won’t have access to ChatGPT on exams</strong>. I design the problem sets so that you’ll learn from working through them. If you outsource all of the work to an AI model, you may (or may not!) score well on the problem set, but you’ll have missed out on critical knowledge-building and practice for the exam.</p></li>
<li><p><strong>My policies are only for PSCI 2300.</strong> Don’t assume that other Vanderbilt professors, including in political science, are operating by the same policies as me. If you’re ever confused about what’s appropriate and what isn’t, check with the professor.</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./references.html" class="pagination-link" aria-label="References">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">References</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data_sources.html" class="pagination-link" aria-label="Data Sources">
        <span class="nav-page-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Data Sources</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p xmlns:cc="http://creativecommons.org/ns#" class="cc-footer">
This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1" alt=""></a>
</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>